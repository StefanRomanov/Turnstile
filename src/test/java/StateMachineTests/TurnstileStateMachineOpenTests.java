package StateMachineTests;

import domain.TurnstileState;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;

public class TurnstileStateMachineOpenTests {

    private TurnstileState state;

    @Before
    public void prepare(){
        this.state = TurnstileState.Open;
    }

    @Test
    public void testOpenInsertCoin(){
        this.state = this.state.coin();

        Assert.assertEquals("In state Open the coin method should not change the status", TurnstileState.Open, this.state);
    }

    @Test
    public void testOpenAttemptPass(){
        this.state = this.state.pass();

        Assert.assertEquals("In state Open the pass method should not change the status", TurnstileState.Open, this.state);
    }

    @Test
    public void testOpenApplyKey(){
        this.state = this.state.key();

        Assert.assertEquals("In state Open the key method should return Locked status", TurnstileState.Locked, this.state);
    }
}
